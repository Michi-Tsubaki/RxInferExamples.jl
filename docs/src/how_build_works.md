# How the Build System Works

This document explains the build system for RxInfer.jl Examples. The build process involves two main scripts:
`examples/make.jl` and `docs/make.jl`, each serving a different purpose.

## Overview

The build process happens in two stages:
1. Converting notebooks to markdown (`examples/make.jl`)
2. Building the documentation (`docs/make.jl`)

## Stage 1: Notebook Processing (`examples/make.jl`)

This script handles the conversion of Jupyter notebooks to markdown files. Key features:

### Directory Structure
```
examples/make.jl
├── BUILD_DIR (docs/src/examples/)
└── CACHE_DIR (docs/src/examples/_cache/)
```

### Key Functions

1. **Notebook Processing**
   - Converts `.ipynb` to `.md` using Weave.jl
   - Preserves notebook environment (Project.toml)
   - Generates figures in the same directory as the notebook
   - Adds contribution notes to each example

2. **Auxiliary File Handling**
   - Copies all supporting files (data, etc.)
   - Excludes Manifest.toml files
   - Maintains directory structure

3. **Error Handling**
   - Checks for error blocks in output
   - Reports failed conversions
   - Provides detailed error context

### Parallel Processing
- Uses Julia's distributed computing
- Processes notebooks in parallel
- Reports success/failure statistics

## Stage 2: Documentation Building (`docs/make.jl`)

This script builds the final documentation. Key features:

### Directory Structure
```
docs/make.jl
├── src/
│   ├── examples/           # Converted notebooks
│   ├── autogenerated/     # Generated content
```

### Key Functions

1. **Metadata Collection**
   - Reads `meta.jl` from each example
   - Collects titles, descriptions, and tags
   - Groups examples by category

2. **Page Generation**
   - Creates list of examples page
   - Generates navigation structure
   - Handles HTML styling for examples list

3. **Documentation Building**
   - Uses Documenter.jl
   - Handles deployment to GitHub Pages
   - Manages clean builds

## Build Process

!!! tip "Quick Help"
    Run `make help` to see all available build commands and their descriptions:
    ```bash
    make help
    ```

1. **Clean Build** (`make clean`)
   ```